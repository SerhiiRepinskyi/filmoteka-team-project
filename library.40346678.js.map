{"mappings":"ujBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAkBC,SAASC,cAAc,YAAYC,kBACrDC,EAAgBH,SAASC,cAAc,YAAYG,iBACnDC,EAAYL,SAASC,cAAc,wBAEzC,SAASK,EAAkBC,GACzB,IAAMC,EAAgBD,EAAME,OACxBD,IAAkBT,GACpBM,EAAUK,UAAY,IACtB,EAAAb,EAAAc,qBACKZ,EAAgBa,UAAUC,SAAS,iBACtCd,EAAgBa,UAAUE,IAAI,eAC9BX,EAAcS,UAAUG,OAAO,iBAExBP,IAAkBL,IAC3BE,EAAUK,UAAY,GACjBP,EAAcS,UAAUC,SAAS,iBACpCd,EAAgBa,UAAUG,OAAO,eACjCZ,EAAcS,UAAUE,IAAI,gB,CAKlCf,EAAgBiB,iBAAiB,QAASV,GAC1CH,EAAca,iBAAiB,QAASV,GACxCW,OAAOD,iBAAiB,OAAQnB,EAAAc,mB,4CC1BhC,I,EAAAO,EAAApB,EAAA,S,iEAKMqB,GAAO,EAAAC,EAAAC,SAAQC,EAAAC,aAEfC,G,EAAmBC,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,mEACvB,EAAAR,EAAAS,oBAAmBV,GAAM,SAAAW,GACnBA,GACFC,QAAQC,IAAIF,GACZC,QAAQC,IAAI,kBAEZC,EAAAC,KAAKC,oBAAoBvB,UAAUE,IAAI,WACvCmB,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,oBAC/CH,EAAAC,KAAKC,oBAAoBvB,UAAUG,OAAO,YAE1CgB,QAAQC,IAAI,mBAEZC,EAAAC,KAAKC,oBAAoBvB,UAAUG,OAAO,WAC1CkB,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,mBAC/CH,EAAAC,KAAKC,oBAAoBvB,UAAUE,IAAI,U,2FAI7CU,IAEA,IAAMa,EAAM,W,MAAGZ,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAAMU,G,qEACdA,EAAE7B,OAAOG,UAAUC,SAAS,WAAU,C,iEAGrC,EAAAO,EAAAmB,SAAQpB,G,OACdqB,EAAAC,OAAOC,QAAQ,mCAEfC,YAAW,W,OAAM1B,OAAO2B,SAASC,QAAQ,e,GAAiB,K,2DAPvCP,G,gCAAT,GAUZL,EAAAC,KAAKC,oBAAoBnB,iBAAiB,QAASqB,G","sources":["src/js/library_button.js","src/js/firebase/firebase-auth-library.js"],"sourcesContent":["import { renderWatchedList } from './render-watched';\n\nconst buttonWatchedEl = document.querySelector('.btn_lib').firstElementChild;\nconst buttonQueueEl = document.querySelector('.btn_lib').lastElementChild;\nconst galleryEl = document.querySelector('.library-cards__list');\n\nfunction handleButtonClick(event) {\n  const clickedButton = event.target;\n  if (clickedButton === buttonWatchedEl) {\n    galleryEl.innerHTML = \"\";\n    renderWatchedList();\n    if (!buttonWatchedEl.classList.contains('lib--active')) {\n      buttonWatchedEl.classList.add('lib--active');\n      buttonQueueEl.classList.remove('lib--active');\n    }\n  } else if (clickedButton === buttonQueueEl) {\n    galleryEl.innerHTML = \"\";\n    if (!buttonQueueEl.classList.contains('lib--active')) {\n      buttonWatchedEl.classList.remove('lib--active');\n      buttonQueueEl.classList.add('lib--active');\n    }\n  }\n}\n\nbuttonWatchedEl.addEventListener('click', handleButtonClick);\nbuttonQueueEl.addEventListener('click', handleButtonClick);\nwindow.addEventListener('load', renderWatchedList);\n","import { firebaseApp } from './firebase-init';\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { refs } from './auth-modal-refs';\nimport { Notify } from 'notiflix';\n\nconst auth = getAuth(firebaseApp);\n\nconst monitorAuthState = async () => {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      console.log(user);\n      console.log('user logged in');\n\n      refs.openModalLibraryBtn.classList.add('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log Out');\n      refs.openModalLibraryBtn.classList.remove('log-in');\n    } else {\n      console.log('user logged out');\n\n      refs.openModalLibraryBtn.classList.remove('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log In');\n      refs.openModalLibraryBtn.classList.add('log-in');\n    }\n  });\n};\nmonitorAuthState();\n\nconst logout = async e => {\n  if (!e.target.classList.contains('log-out')) {\n    return;\n  }\n  await signOut(auth);\n  Notify.success('You are loged out. See you soon');\n\n  setTimeout(() => window.location.replace('./index.html'), 2000);\n};\n\nrefs.openModalLibraryBtn.addEventListener('click', logout);\n"],"names":["$iAAxt","parcelRequire","$5f231e217f3687e3$var$buttonWatchedEl","document","querySelector","firstElementChild","$5f231e217f3687e3$var$buttonQueueEl","lastElementChild","$5f231e217f3687e3$var$galleryEl","$5f231e217f3687e3$var$handleButtonClick","event","clickedButton","target","innerHTML","renderWatchedList","classList","contains","add","remove","addEventListener","window","$bpxeT","$53555ed19cee43ff$var$auth","$gQOBw","getAuth","$fGC9r","firebaseApp","$53555ed19cee43ff$var$monitorAuthState","$parcel$interopDefault","$2TvXO","mark","_callee","onAuthStateChanged","user","console","log","$k4iT1","refs","openModalLibraryBtn","setAttribute","$53555ed19cee43ff$var$logout","e","signOut","$6JpON","Notify","success","setTimeout","location","replace"],"version":3,"file":"library.40346678.js.map"}