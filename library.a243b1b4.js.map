{"mappings":"+eAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAkBC,SAASC,cAAc,YAAYC,kBACrDC,EAAgBH,SAASC,cAAc,YAAYG,iBACnDC,EAAYL,SAASC,cAAc,wBAEzC,SAASK,EAAkBC,GACzB,MAAMC,EAAgBD,EAAME,OACxBD,IAAkBT,GACpBM,EAAUK,UAAY,IACtB,EAAAb,EAAAc,qBACKZ,EAAgBa,UAAUC,SAAS,iBACtCd,EAAgBa,UAAUE,IAAI,eAC9BX,EAAcS,UAAUG,OAAO,iBAExBP,IAAkBL,IAC3BE,EAAUK,UAAY,GACjBP,EAAcS,UAAUC,SAAS,iBACpCd,EAAgBa,UAAUG,OAAO,eACjCZ,EAAcS,UAAUE,IAAI,gB,CAKlCf,EAAgBiB,iBAAiB,QAASV,GAC1CH,EAAca,iBAAiB,QAASV,GACxCW,OAAOD,iBAAiB,OAAQnB,EAAAc,mB,4CC1BhC,IAAAO,EAAApB,EAAA,S,uCAKA,MAAMqB,GAAO,EAAAC,EAAAC,SAAQH,EAAAI,aAEIC,YACvB,EAAAH,EAAAI,oBAAmBL,GAAMM,IACnBA,GACFC,QAAQC,IAAIF,GACZC,QAAQC,IAAI,kBAEZC,EAAAC,KAAKC,oBAAoBlB,UAAUE,IAAI,WACvCc,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,oBAC/CH,EAAAC,KAAKC,oBAAoBlB,UAAUG,OAAO,YAE1CW,QAAQC,IAAI,mBAEZC,EAAAC,KAAKC,oBAAoBlB,UAAUG,OAAO,WAC1Ca,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,mBAC/CH,EAAAC,KAAKC,oBAAoBlB,UAAUE,IAAI,U,GAEzC,EAEJkB,GAYAJ,EAAAC,KAAKC,oBAAoBd,iBAAiB,SAV3BO,MAAMU,IACdA,EAAExB,OAAOG,UAAUC,SAAS,mBAG3B,EAAAO,EAAAc,SAAQf,GACdgB,EAAAC,OAAOC,QAAQ,mCAEfC,YAAW,IAAMrB,OAAOsB,SAASC,QAAQ,iBAAiB,KAAK,I","sources":["src/js/library_button.js","src/js/firebase/firebase-auth-library.js"],"sourcesContent":["import { renderWatchedList } from './render-watched';\n\nconst buttonWatchedEl = document.querySelector('.btn_lib').firstElementChild;\nconst buttonQueueEl = document.querySelector('.btn_lib').lastElementChild;\nconst galleryEl = document.querySelector('.library-cards__list');\n\nfunction handleButtonClick(event) {\n  const clickedButton = event.target;\n  if (clickedButton === buttonWatchedEl) {\n    galleryEl.innerHTML = \"\";\n    renderWatchedList();\n    if (!buttonWatchedEl.classList.contains('lib--active')) {\n      buttonWatchedEl.classList.add('lib--active');\n      buttonQueueEl.classList.remove('lib--active');\n    }\n  } else if (clickedButton === buttonQueueEl) {\n    galleryEl.innerHTML = \"\";\n    if (!buttonQueueEl.classList.contains('lib--active')) {\n      buttonWatchedEl.classList.remove('lib--active');\n      buttonQueueEl.classList.add('lib--active');\n    }\n  }\n}\n\nbuttonWatchedEl.addEventListener('click', handleButtonClick);\nbuttonQueueEl.addEventListener('click', handleButtonClick);\nwindow.addEventListener('load', renderWatchedList);\n","import { firebaseApp } from './firebase-init';\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { refs } from './auth-modal-refs';\nimport { Notify } from 'notiflix';\n\nconst auth = getAuth(firebaseApp);\n\nconst monitorAuthState = async () => {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      console.log(user);\n      console.log('user logged in');\n\n      refs.openModalLibraryBtn.classList.add('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log Out');\n      refs.openModalLibraryBtn.classList.remove('log-in');\n    } else {\n      console.log('user logged out');\n\n      refs.openModalLibraryBtn.classList.remove('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log In');\n      refs.openModalLibraryBtn.classList.add('log-in');\n    }\n  });\n};\nmonitorAuthState();\n\nconst logout = async e => {\n  if (!e.target.classList.contains('log-out')) {\n    return;\n  }\n  await signOut(auth);\n  Notify.success('You are loged out. See you soon');\n\n  setTimeout(() => window.location.replace('./index.html'), 2000);\n};\n\nrefs.openModalLibraryBtn.addEventListener('click', logout);\n"],"names":["$Yxh0b","parcelRequire","$0a9b4fa6ebff9285$var$buttonWatchedEl","document","querySelector","firstElementChild","$0a9b4fa6ebff9285$var$buttonQueueEl","lastElementChild","$0a9b4fa6ebff9285$var$galleryEl","$0a9b4fa6ebff9285$var$handleButtonClick","event","clickedButton","target","innerHTML","renderWatchedList","classList","contains","add","remove","addEventListener","window","$bcNH0","$d6814f0e564c1480$var$auth","$eyjy7","getAuth","firebaseApp","async","onAuthStateChanged","user","console","log","$5Zbuc","refs","openModalLibraryBtn","setAttribute","$d6814f0e564c1480$var$monitorAuthState","e","signOut","$7Y9D8","Notify","success","setTimeout","location","replace"],"version":3,"file":"library.a243b1b4.js.map"}