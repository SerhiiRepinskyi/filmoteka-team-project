{"mappings":"0fAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,S,uCAKOE,eAAeC,IACpBC,EAAAC,QAAQC,MAAM,CACZC,SAAU,YAEZ,MAAMC,QAAgBT,EAAAU,QAAQC,eACxBC,GAAS,EAAAV,EAAAW,cAAaJ,GAC5BK,EAAAC,QAAKC,aAAaC,mBAAmB,YAAaL,GAClDP,EAAAC,QAAQY,Q,CDRV,SAASC,EAAkBC,GACzB,MAAMC,EAAgBD,EAAME,OACxBD,IAAkBP,EAAAC,QAAKQ,iBACzBT,EAAAC,QAAKC,aAAaQ,UAAY,IAC9B,EAAAxB,EAAAyB,qBACKX,EAAAC,QAAKQ,gBAAgBG,UAAUC,SAAS,iBAC3Cb,EAAAC,QAAKQ,gBAAgBG,UAAUE,IAAI,eACnCd,EAAAC,QAAKc,cAAcH,UAAUR,OAAO,iBAE7BG,IAAkBP,EAAAC,QAAKc,gBAChCf,EAAAC,QAAKC,aAAaQ,UAAY,GAC9BpB,IACKU,EAAAC,QAAKc,cAAcH,UAAUC,SAAS,iBACzCb,EAAAC,QAAKQ,gBAAgBG,UAAUR,OAAO,eACtCJ,EAAAC,QAAKc,cAAcH,UAAUE,IAAI,gB,gBAKvCb,QAAKQ,gBAAgBO,iBAAiB,QAASX,GAC/CL,EAAAC,QAAKc,cAAcC,iBAAiB,QAASX,GAC7CY,OAAOD,iBAAiB,OAAQ9B,EAAAyB,mB,uDEzBhC,IAAAO,EAAA/B,EAAA,S,uCAKA,MAAMgC,GAAO,EAAAC,EAAAC,SAAQH,EAAAI,aAEIjC,YACvB,EAAA+B,EAAAG,oBAAmBJ,GAAMK,IACnBA,GACFC,QAAQC,IAAIF,GACZC,QAAQC,IAAI,kBAEZC,EAAAC,KAAKC,oBAAoBjB,UAAUE,IAAI,WACvCa,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,oBAC/CH,EAAAC,KAAKC,oBAAoBjB,UAAUR,OAAO,YAE1CqB,QAAQC,IAAI,mBAEZC,EAAAC,KAAKC,oBAAoBjB,UAAUR,OAAO,WAC1CuB,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,mBAC/CH,EAAAC,KAAKC,oBAAoBjB,UAAUE,IAAI,U,GAEzC,EAEJiB,GAYAJ,EAAAC,KAAKC,oBAAoBb,iBAAiB,SAV3B3B,MAAM2C,IACdA,EAAExB,OAAOI,UAAUC,SAAS,mBAG3B,EAAAO,EAAAa,SAAQd,GACde,EAAAC,OAAOC,QAAQ,mCAEfC,YAAW,IAAMpB,OAAOqB,SAASC,QAAQ,iBAAiB,KAAK,I","sources":["src/js/library_button.js","src/js/render-queue.js","src/js/firebase/firebase-auth-library.js"],"sourcesContent":["import { renderWatchedList } from './render-watched';\nimport { renderQueueList } from './render-queue';\nimport refs from './refs';\n\nfunction handleButtonClick(event) {\n  const clickedButton = event.target;\n  if (clickedButton === refs.buttonWatchedEl) {\n    refs.libGalleryEl.innerHTML = '';\n    renderWatchedList();\n    if (!refs.buttonWatchedEl.classList.contains('lib--active')) {\n      refs.buttonWatchedEl.classList.add('lib--active');\n      refs.buttonQueueEl.classList.remove('lib--active');\n    }\n  } else if (clickedButton === refs.buttonQueueEl) {\n    refs.libGalleryEl.innerHTML = '';\n    renderQueueList();\n    if (!refs.buttonQueueEl.classList.contains('lib--active')) {\n      refs.buttonWatchedEl.classList.remove('lib--active');\n      refs.buttonQueueEl.classList.add('lib--active');\n    }\n  }\n}\n\nrefs.buttonWatchedEl.addEventListener('click', handleButtonClick);\nrefs.buttonQueueEl.addEventListener('click', handleButtonClick);\nwindow.addEventListener('load', renderWatchedList);\n","import { renderMarkup } from './lib-card-markup';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport refs from './refs';\nimport { service } from './render-watched';\n\nexport async function renderQueueList() {\n  Loading.pulse({\n    svgColor: '#b92f2c',\n  });\n  const listArr = await service.getQueueList();\n  const markup = renderMarkup(listArr);\n  refs.libGalleryEl.insertAdjacentHTML('beforeend', markup);\n  Loading.remove();\n}\n","import { firebaseApp } from './firebase-init';\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { refs } from './auth-modal-refs';\nimport { Notify } from 'notiflix';\n\nconst auth = getAuth(firebaseApp);\n\nconst monitorAuthState = async () => {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      console.log(user);\n      console.log('user logged in');\n\n      refs.openModalLibraryBtn.classList.add('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log Out');\n      refs.openModalLibraryBtn.classList.remove('log-in');\n    } else {\n      console.log('user logged out');\n\n      refs.openModalLibraryBtn.classList.remove('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log In');\n      refs.openModalLibraryBtn.classList.add('log-in');\n    }\n  });\n};\nmonitorAuthState();\n\nconst logout = async e => {\n  if (!e.target.classList.contains('log-out')) {\n    return;\n  }\n  await signOut(auth);\n  Notify.success('You are loged out. See you soon');\n\n  setTimeout(() => window.location.replace('./index.html'), 2000);\n};\n\nrefs.openModalLibraryBtn.addEventListener('click', logout);\n"],"names":["$Yxh0b","parcelRequire","$evunJ","async","$6f51af6bca2687d5$export$69bf332fc394edc5","$dSs1Y","Loading","pulse","svgColor","listArr","service","getQueueList","markup","renderMarkup","$krGWQ","default","libGalleryEl","insertAdjacentHTML","remove","$0a9b4fa6ebff9285$var$handleButtonClick","event","clickedButton","target","buttonWatchedEl","innerHTML","renderWatchedList","classList","contains","add","buttonQueueEl","addEventListener","window","$bcNH0","$d6814f0e564c1480$var$auth","$eyjy7","getAuth","firebaseApp","onAuthStateChanged","user","console","log","$5Zbuc","refs","openModalLibraryBtn","setAttribute","$d6814f0e564c1480$var$monitorAuthState","e","signOut","$7Y9D8","Notify","success","setTimeout","location","replace"],"version":3,"file":"library.a64037e6.js.map"}