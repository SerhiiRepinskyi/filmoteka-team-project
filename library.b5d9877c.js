!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("4Nugj"),a("b7ONl"),a("1beAg");var s=a("1beAg"),o=a("6p62o");window.addEventListener("load",s.default),document.querySelector("#theme-toggle").addEventListener("click",o.onThemeBtnClick);var c=a("bpxeT"),i=a("2TvXO"),l=a("k30FB"),u=a("7rQOT");a("6JpON");var d=a("4Nugj"),f=a("3mSO2");a("6p62o");d=a("4Nugj");function p(e){return e.map((function(e){var t=e.id,r=e.title,n=e.poster_path,a=e.release_date,s=e.genres;return"<li class='card-item' data-id='".concat(t,"'>\n        <div class='image__wrapper'>\n          <img class='movie__poster' src='").concat((0,f.getMoviePoster)(n),"' width='395' alt='").concat(r,"' loading='lazy' />\n        </div>\n        <div class='card-item__info-wrapper'>\n        <h2 class='card-item__title'>").concat((0,f.getMovieTitle)(r),"</h2>\n        <div class='card-item__info'>\n        <p class='card-item__genre'>").concat((0,f.getGenresLib)(s),"</p>\n        <span class='card-item__year'>|</span>\n        <p class='card-item__year'>").concat((0,f.getReleaseDate)(a),"</p>\n        </div>\n        </div>\n        </li>")})).join("")}function v(){d.refs.plugWrapperLight.classList.remove("hidden")}var m=new(0,l.DatabaseAPI);function g(){return h.apply(this,arguments)}function h(){return(h=e(c)(e(i).mark((function t(){var r,n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.Loading.pulse({svgColor:"#b92f2c"}),d.refs.libGalleryEl.innerHTML="",d.refs.plugWrapperLight.classList.add("hidden"),e.prev=3,e.next=6,m.getWatchedList();case 6:0!==(r=e.sent).length?(n=p(r),d.refs.libGalleryEl.insertAdjacentHTML("beforeend",n)):v(),window.removeEventListener("load",g),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Notify.failure("Ooops! Something went wrong. Try reloading page");case 14:u.Loading.remove();case 15:case"end":return e.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}function b(){return L.apply(this,arguments)}function L(){return(L=e(c)(e(i).mark((function t(){var r,n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.Loading.pulse({svgColor:"#b92f2c"}),d.refs.libGalleryEl.innerHTML="",d.refs.plugWrapperLight.classList.add("hidden"),e.prev=3,e.next=6,m.getWatchedList();case 6:0!==(r=e.sent).length?(n=p(r),d.refs.libGalleryEl.innerHTML=n):v(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Notify.failure("Ooops! Something went wrong. Try reloading page");case 13:u.Loading.remove();case 14:case"end":return e.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}c=a("bpxeT"),i=a("2TvXO"),u=a("7rQOT"),d=a("4Nugj");function y(){return w.apply(this,arguments)}function w(){return(w=e(c)(e(i).mark((function t(){var r,n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.Loading.pulse({svgColor:"#b92f2c"}),d.refs.libGalleryEl.innerHTML="",d.refs.plugWrapperLight.classList.add("hidden"),e.prev=3,e.next=6,m.getQueueList();case 6:0!==(r=e.sent).length?(n=p(r),d.refs.libGalleryEl.insertAdjacentHTML("beforeend",n)):v(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Notify.failure("Ooops! Something went wrong. Try reloading page");case 13:u.Loading.remove();case 14:case"end":return e.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}function x(){return k.apply(this,arguments)}function k(){return(k=e(c)(e(i).mark((function t(){var r,n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.Loading.pulse({svgColor:"#b92f2c"}),d.refs.libGalleryEl.innerHTML="",d.refs.plugWrapperLight.classList.add("hidden"),e.prev=3,e.next=6,m.getQueueList();case 6:0!==(r=e.sent).length?(n=p(r),d.refs.libGalleryEl.innerHTML=n):v(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Notify.failure("Ooops! Something went wrong. Try reloading page");case 13:u.Loading.remove();case 14:case"end":return e.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}function T(e){var t=e.target;t===d.refs.buttonWatchedEl?(d.refs.libGalleryEl.innerHTML="",g(),d.refs.buttonWatchedEl.classList.contains("lib--active")||(d.refs.buttonWatchedEl.classList.add("lib--active"),d.refs.buttonQueueEl.classList.remove("lib--active"))):t===d.refs.buttonQueueEl&&(d.refs.libGalleryEl.innerHTML="",y(),d.refs.buttonQueueEl.classList.contains("lib--active")||(d.refs.buttonWatchedEl.classList.remove("lib--active"),d.refs.buttonQueueEl.classList.add("lib--active")))}a("6JpON"),(d=a("4Nugj")).refs.buttonWatchedEl.addEventListener("click",T),d.refs.buttonQueueEl.addEventListener("click",T),window.addEventListener("load",g),a("8FeKp"),a("h0FqT"),a("iNDEe");c=a("bpxeT"),i=a("2TvXO");var E=a("b7ONl"),O=a("iNDEe"),M=document.querySelector(".modal-card__backdrop"),N=document.querySelector(".library-cards__list"),_=document.querySelector("body"),S=(document.querySelector(".modal-card"),document.querySelector(".modal-card__close-btn")),q=new(0,E.FilmAPI);function Q(){return(Q=e(c)(e(i).mark((function t(r){var n,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q.youTubeID=r.target.closest(".card-item").dataset.id,localStorage.setItem("LOCALSTORAGE_KEY","".concat(r.target.closest(".card-item").dataset.id)),r.target.closest(".card-item")){e.next=4;break}return e.abrupt("return");case 4:return n=r.target.closest(".card-item").dataset.id,e.next=7,q.fetchDetails(n);case 7:a=e.sent,(0,O.default)(a),_.classList.add("no-scroll"),M.classList.remove("hidden");case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function W(){document.querySelector(".lib-watched").classList.contains("lib--active")?b():x()}N.addEventListener("click",(function(e){return Q.apply(this,arguments)})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(_.classList.remove("no-scroll"),M.classList.add("hidden"),W())})),S.addEventListener("click",(function(e){_.classList.remove("no-scroll"),M.classList.add("hidden"),W()})),M.addEventListener("click",(function(e){e.target===M&&(M.classList.add("hidden"),_.classList.remove("no-scroll"),W())}));c=a("bpxeT"),i=a("2TvXO"),l=a("k30FB"),E=a("b7ONl");var A,C=a("6JpON"),F=new(0,E.FilmAPI),B=new(0,l.DatabaseAPI),G=document.querySelector(".library-cards__list"),D=document.querySelector(".modal-card"),I="",H=function(){setTimeout((function(){var e=document.querySelector("[data-card-modal-watched-film]");e.classList.remove("add-to-watched"),e.classList.add("remove-from-watched"),e.textContent="Remove from watched"}),150)},P=function(){setTimeout((function(){var e=document.querySelector("[data-card-modal-queue-film]");e.classList.remove("add-to-queue"),e.classList.add("remove-from-queue"),e.textContent="Remove from queue"}),150)},R=function(){setTimeout((function(){var e=document.querySelector("[data-card-modal-watched-film]");e.classList.remove("remove-from-watched"),e.classList.add("add-to-watched"),e.textContent="Add to watched"}),150)},j=function(){setTimeout((function(){var e=document.querySelector("[data-card-modal-queue-film]");e.classList.remove("remove-from-queue"),e.classList.add("add-to-queue"),e.textContent="Add to queue"}),150)},X=(A=e(c)(e(i).mark((function t(r){var n,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.target.closest(".card-item")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,I=Number(r.target.closest(".card-item").dataset.id),e.next=6,B.checkPresenseInWatched(I);case 6:return(n=e.sent)?H():n||R(),e.next=10,B.checkPresenseInQueue(I);case 10:(a=e.sent)?P():a||j(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),C.Notify.failure("Ooops! Something went wrong. Try reloading page");case 17:case"end":return e.stop()}}),t,null,[[2,14]])}))),function(e){return A.apply(this,arguments)}),J=function(){var t=e(c)(e(i).mark((function t(r){var n,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("cardModalWatchedFilm"in r.target.dataset)){e.next=25;break}if(e.prev=1,!r.target.classList.contains("add-to-watched")){e.next=18;break}return e.next=5,F.fetchDetails(I);case 5:return n=e.sent,e.next=8,B.addToWatched(n);case 8:return C.Notify.success("".concat(n.title," added to Watched List")),H(),e.next=12,B.checkPresenseInQueue(I);case 12:if(!e.sent){e.next=18;break}return j(),e.next=17,B.removeMovieFromQueue(I);case 17:C.Notify.success("".concat(n.title," removed from Queue List"));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),C.Notify.failure("Ooops! Something went wrong. Try reloading page");case 23:e.next=48;break;case 25:if(!("cardModalQueueFilm"in r.target.dataset)){e.next=48;break}if(e.prev=26,!r.target.classList.contains("add-to-queue")){e.next=43;break}return e.next=30,F.fetchDetails(I);case 30:return a=e.sent,e.next=33,B.addToQueue(a);case 33:return C.Notify.success("".concat(a.title," added to Queue List")),P(),e.next=37,B.checkPresenseInWatched(I);case 37:if(!e.sent){e.next=43;break}return R(),e.next=42,B.removeMovieFromWatched(I);case 42:C.Notify.success("".concat(a.title," removed from Watched List"));case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(26),C.Notify.failure("Ooops! Something went wrong. Try reloading page");case 48:case"end":return e.stop()}}),t,null,[[1,20],[26,45]])})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=e(c)(e(i).mark((function t(r){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("cardModalWatchedFilm"in r.target.dataset)){e.next=9;break}if(!r.target.classList.contains("remove-from-watched")){e.next=7;break}return e.next=5,B.removeMovieFromWatched(I);case 5:C.Notify.success("Movie removed from Watched List"),R();case 7:e.next=15;break;case 9:if(!("cardModalQueueFilm"in r.target.dataset)){e.next=15;break}if(!r.target.classList.contains("remove-from-queue")){e.next=15;break}return e.next=13,B.removeMovieFromQueue(I);case 13:C.Notify.success("Movie removed from Queue List"),j();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),C.Notify.failure("Ooops! Something went wrong. Try reloading page");case 21:case"end":return e.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}();G.addEventListener("click",X),D.addEventListener("click",J),D.addEventListener("click",Y),a("7iM06"),a("iE7r8");c=a("bpxeT"),i=a("2TvXO");var K=a("fGC9r"),U=a("gQOBw"),z=a("k4iT1"),V=(C=a("6JpON"),(0,U.getAuth)(K.firebaseApp)),Z=function(){var t=e(c)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,U.onAuthStateChanged)(V,(function(e){e?(z.refs.openModalLibraryBtn.classList.add("log-out"),z.refs.openModalLibraryBtn.setAttribute("title","Click to Log Out"),z.refs.openModalLibraryBtn.classList.remove("log-in")):(z.refs.openModalLibraryBtn.classList.remove("log-out"),z.refs.openModalLibraryBtn.setAttribute("title","Click to Log In"),z.refs.openModalLibraryBtn.classList.add("log-in"))}));case 1:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Z();var $=function(){var t=e(c)(e(i).mark((function t(r){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.target.classList.contains("log-out")){t.next=2;break}return t.abrupt("return");case 2:C.Confirm.show("You are about to log out.","Proceed?","Log Out","Stay Logged In",e(c)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.signOut)(V);case 2:C.Notify.success("You have been logged out. See you soon. Redirecting to frontpage"),setTimeout((function(){return window.location.replace("./index.html")}),2e3);case 4:case"end":return e.stop()}}),t)}))),(function(){}),{titleColor:"#b92f2c",fontFamily:"Roboto, sans-serif;",borderRadius:"10px",okButtonBackground:"#b92f2c"});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();z.refs.openModalLibraryBtn.addEventListener("click",$),a("k30FB"),a("ivfiQ"),a("6p62o"),a("h8yxa"),a("cDXQO")}();
//# sourceMappingURL=library.b5d9877c.js.map
