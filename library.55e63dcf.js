var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in s){var i=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,i.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},e.parcelRequired7c6=i),i("krGWQ"),i("7rYDH"),i("8j3eh"),i("isA1x");var n=i("4O2bx"),a=i("dSs1Y"),o=i("7Y9D8"),r=i("krGWQ"),l=i("eVEnd");function d(e){return e.map((({id:e,title:t,poster_path:s,release_date:i,genres:n})=>`<li class='card-item' data-id='${e}'>\n        <div class='image__wrapper'>\n          <img class='movie__poster' src='${(0,l.getMoviePoster)(s)}' width='395' alt='${t}' loading='lazy' />\n        </div>\n        <div class='card-item__info-wrapper'>\n        <h2 class='card-item__title'>${(0,l.getMovieTitle)(t)}</h2>\n        <div class='card-item__info'>\n        <p class='card-item__genre'>${(0,l.getGenresLib)(n)}</p>\n        <span class='card-item__year'>|</span>\n        <p class='card-item__year'>${(0,l.getReleaseDate)(i)}</p>\n        </div>\n        </div>\n        </li>`)).join("")}const c=new(0,n.DatabaseAPI);async function u(){a.Loading.pulse({svgColor:"#b92f2c"});try{const e=d(await c.getWatchedList());r.refs.galleryEl.insertAdjacentHTML("beforeend",e),a.Loading.remove(),window.removeEventListener("load",u)}catch(e){console.log(e),o.Report.info("Filmoteka Info","This List is empty. Start adding some movies to see them here","OK")}}a=i("dSs1Y"),r=i("krGWQ");async function f(){a.Loading.pulse({svgColor:"#b92f2c"});const e=d(await c.getQueueList());r.refs.libGalleryEl.insertAdjacentHTML("beforeend",e),a.Loading.remove()}function b(e){const t=e.target;t===r.refs.buttonWatchedEl?(r.refs.libGalleryEl.innerHTML="",u(),r.refs.buttonWatchedEl.classList.contains("lib--active")||(r.refs.buttonWatchedEl.classList.add("lib--active"),r.refs.buttonQueueEl.classList.remove("lib--active"))):t===r.refs.buttonQueueEl&&(r.refs.libGalleryEl.innerHTML="",f(),r.refs.buttonQueueEl.classList.contains("lib--active")||(r.refs.buttonWatchedEl.classList.remove("lib--active"),r.refs.buttonQueueEl.classList.add("lib--active")))}(r=i("krGWQ")).refs.buttonWatchedEl.addEventListener("click",b),r.refs.buttonQueueEl.addEventListener("click",b),window.addEventListener("load",u),i("9AkgD"),i("hPewW"),i("gLIqC"),i("fobnT");var g=i("bcNH0"),p=i("eyjy7"),L=i("5Zbuc");o=i("7Y9D8");const v=(0,p.getAuth)(g.firebaseApp);(async()=>{(0,p.onAuthStateChanged)(v,(e=>{e?(L.refs.openModalLibraryBtn.classList.add("log-out"),L.refs.openModalLibraryBtn.setAttribute("title","Click to Log Out"),L.refs.openModalLibraryBtn.classList.remove("log-in")):(L.refs.openModalLibraryBtn.classList.remove("log-out"),L.refs.openModalLibraryBtn.setAttribute("title","Click to Log In"),L.refs.openModalLibraryBtn.classList.add("log-in"))}))})();L.refs.openModalLibraryBtn.addEventListener("click",(async e=>{e.target.classList.contains("log-out")&&(await(0,p.signOut)(v),o.Notify.success("You are loged out. See you soon"),setTimeout((()=>window.location.replace("./index.html")),2e3))})),i("4O2bx"),i("hvQmF"),i("ayzP0");
//# sourceMappingURL=library.55e63dcf.js.map
