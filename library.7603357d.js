!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("4Nugj"),a("b7ONl"),a("1beAg");var s=a("1beAg"),i=a("6p62o");window.addEventListener("load",s.default),document.querySelector("#theme-toggle").addEventListener("click",i.onThemeBtnClick);var o=a("bpxeT"),c=a("2TvXO"),l=a("k30FB"),d=a("7rQOT"),u=a("6JpON"),f=a("4Nugj"),p=a("3mSO2");function v(e){return e.map((function(e){var t=e.id,n=e.title,r=e.poster_path,a=e.release_date,s=e.genres;return"<li class='card-item' data-id='".concat(t,"'>\n        <div class='image__wrapper'>\n          <img class='movie__poster' src='").concat((0,p.getMoviePoster)(r),"' width='395' alt='").concat(n,"' loading='lazy' />\n        </div>\n        <div class='card-item__info-wrapper'>\n        <h2 class='card-item__title'>").concat((0,p.getMovieTitle)(n),"</h2>\n        <div class='card-item__info'>\n        <p class='card-item__genre'>").concat((0,p.getGenresLib)(s),"</p>\n        <span class='card-item__year'>|</span>\n        <p class='card-item__year'>").concat((0,p.getReleaseDate)(a),"</p>\n        </div>\n        </div>\n        </li>")})).join("")}var b=new(0,l.DatabaseAPI);function L(){return m.apply(this,arguments)}function m(){return(m=e(o)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.Loading.pulse({svgColor:"#b92f2c"}),e.prev=1,e.next=4,b.getWatchedList();case 4:n=e.sent,r=v(n),f.refs.libGalleryEl.insertAdjacentHTML("beforeend",r),d.Loading.remove(),window.removeEventListener("load",L),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),u.Report.info("Filmoteka Info","This List is empty. Start adding some movies to see them here","OK");case 15:case"end":return e.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}o=a("bpxeT"),c=a("2TvXO"),d=a("7rQOT"),f=a("4Nugj");function g(){return h.apply(this,arguments)}function h(){return(h=e(o)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.Loading.pulse({svgColor:"#b92f2c"}),e.next=3,b.getQueueList();case 3:n=e.sent,r=v(n),f.refs.libGalleryEl.insertAdjacentHTML("beforeend",r),d.Loading.remove();case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(e){var t=e.target;t===f.refs.buttonWatchedEl?(f.refs.libGalleryEl.innerHTML="",L(),f.refs.buttonWatchedEl.classList.contains("lib--active")||(f.refs.buttonWatchedEl.classList.add("lib--active"),f.refs.buttonQueueEl.classList.remove("lib--active"))):t===f.refs.buttonQueueEl&&(f.refs.libGalleryEl.innerHTML="",g(),f.refs.buttonQueueEl.classList.contains("lib--active")||(f.refs.buttonWatchedEl.classList.remove("lib--active"),f.refs.buttonQueueEl.classList.add("lib--active")))}(f=a("4Nugj")).refs.buttonWatchedEl.addEventListener("click",y),f.refs.buttonQueueEl.addEventListener("click",y),window.addEventListener("load",L),a("8FeKp"),a("h0FqT"),a("iNDEe");o=a("bpxeT"),c=a("2TvXO");var w=a("b7ONl"),E=a("iNDEe"),_=document.querySelector(".modal-card__backdrop"),k=document.querySelector(".library-cards__list"),T=document.querySelector("body"),x=(document.querySelector(".modal-card"),document.querySelector(".modal-card__close-btn")),O=new(0,w.FilmAPI);function M(){return(M=e(o)(e(c).mark((function t(n){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.closest(".card-item")){e.next=2;break}return e.abrupt("return");case 2:return r=n.target.closest(".card-item").dataset.id,e.next=5,O.fetchDetails(r);case 5:a=e.sent,(0,E.default)(a),T.classList.add("no-scroll"),_.classList.remove("hidden");case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}k.addEventListener("click",(function(e){return M.apply(this,arguments)})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(T.classList.remove("no-scroll"),_.classList.add("hidden"))})),x.addEventListener("click",(function(e){T.classList.remove("no-scroll"),_.classList.add("hidden")})),_.addEventListener("click",(function(e){e.target===_&&(_.classList.add("hidden"),T.classList.remove("no-scroll"))})),a("7iM06"),a("iE7r8");o=a("bpxeT"),c=a("2TvXO");var N,A=a("fGC9r"),B=a("gQOBw"),Q=a("k4iT1"),S=(u=a("6JpON"),(0,B.getAuth)(A.firebaseApp)),q=(N=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,B.onAuthStateChanged)(S,(function(e){e?(Q.refs.openModalLibraryBtn.classList.add("log-out"),Q.refs.openModalLibraryBtn.setAttribute("title","Click to Log Out"),Q.refs.openModalLibraryBtn.classList.remove("log-in")):(Q.refs.openModalLibraryBtn.classList.remove("log-out"),Q.refs.openModalLibraryBtn.setAttribute("title","Click to Log In"),Q.refs.openModalLibraryBtn.classList.add("log-in"))}));case 1:case"end":return e.stop()}}),t)}))),function(){return N.apply(this,arguments)});q();var C=function(){var t=e(o)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.classList.contains("log-out")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,B.signOut)(S);case 4:u.Notify.success("You are loged out. See you soon"),setTimeout((function(){return window.location.replace("./index.html")}),2e3);case 6:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Q.refs.openModalLibraryBtn.addEventListener("click",C),a("k30FB"),a("ivfiQ"),a("6p62o")}();
//# sourceMappingURL=library.7603357d.js.map
