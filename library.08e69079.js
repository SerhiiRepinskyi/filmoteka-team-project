var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("krGWQ"),i("7rYDH"),i("8j3eh");var a=i("8j3eh"),s=i("ayzP0");window.addEventListener("load",a.default),document.querySelector("#theme-toggle").addEventListener("click",s.onThemeBtnClick);var o=i("4O2bx"),r=i("dSs1Y"),l=i("7Y9D8"),d=i("krGWQ"),c=i("eVEnd");function u(e){return e.map((({id:e,title:t,poster_path:n,release_date:i,genres:a})=>`<li class='card-item' data-id='${e}'>\n        <div class='image__wrapper'>\n          <img class='movie__poster' src='${(0,c.getMoviePoster)(n)}' width='395' alt='${t}' loading='lazy' />\n        </div>\n        <div class='card-item__info-wrapper'>\n        <h2 class='card-item__title'>${(0,c.getMovieTitle)(t)}</h2>\n        <div class='card-item__info'>\n        <p class='card-item__genre'>${(0,c.getGenresLib)(a)}</p>\n        <span class='card-item__year'>|</span>\n        <p class='card-item__year'>${(0,c.getReleaseDate)(i)}</p>\n        </div>\n        </div>\n        </li>`)).join("")}const f=new(0,o.DatabaseAPI);async function b(){r.Loading.pulse({svgColor:"#b92f2c"});try{const e=u(await f.getWatchedList());d.refs.libGalleryEl.insertAdjacentHTML("beforeend",e),r.Loading.remove(),window.removeEventListener("load",b)}catch(e){console.log(e),l.Report.info("Filmoteka Info","This List is empty. Start adding some movies to see them here","OK")}}r=i("dSs1Y"),d=i("krGWQ");async function g(){r.Loading.pulse({svgColor:"#b92f2c"});const e=u(await f.getQueueList());d.refs.libGalleryEl.insertAdjacentHTML("beforeend",e),r.Loading.remove()}function L(e){const t=e.target;t===d.refs.buttonWatchedEl?(d.refs.libGalleryEl.innerHTML="",b(),d.refs.buttonWatchedEl.classList.contains("lib--active")||(d.refs.buttonWatchedEl.classList.add("lib--active"),d.refs.buttonQueueEl.classList.remove("lib--active"))):t===d.refs.buttonQueueEl&&(d.refs.libGalleryEl.innerHTML="",g(),d.refs.buttonQueueEl.classList.contains("lib--active")||(d.refs.buttonWatchedEl.classList.remove("lib--active"),d.refs.buttonQueueEl.classList.add("lib--active")))}(d=i("krGWQ")).refs.buttonWatchedEl.addEventListener("click",L),d.refs.buttonQueueEl.addEventListener("click",L),window.addEventListener("load",b),i("9AkgD"),i("hPewW"),i("gLIqC"),i("fobnT");var v=i("bcNH0"),p=i("eyjy7"),y=i("5Zbuc");l=i("7Y9D8");const m=(0,p.getAuth)(v.firebaseApp);(async()=>{(0,p.onAuthStateChanged)(m,(e=>{e?(y.refs.openModalLibraryBtn.classList.add("log-out"),y.refs.openModalLibraryBtn.setAttribute("title","Click to Log Out"),y.refs.openModalLibraryBtn.classList.remove("log-in")):(y.refs.openModalLibraryBtn.classList.remove("log-out"),y.refs.openModalLibraryBtn.setAttribute("title","Click to Log In"),y.refs.openModalLibraryBtn.classList.add("log-in"))}))})();y.refs.openModalLibraryBtn.addEventListener("click",(async e=>{e.target.classList.contains("log-out")&&(await(0,p.signOut)(m),l.Notify.success("You are loged out. See you soon"),setTimeout((()=>window.location.replace("./index.html")),2e3))})),i("4O2bx"),i("hvQmF"),i("ayzP0");
//# sourceMappingURL=library.08e69079.js.map
