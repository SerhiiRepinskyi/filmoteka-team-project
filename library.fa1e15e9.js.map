{"mappings":"ujBAAA,IAAAA,EAAAC,EAAA,SCAAC,EAAAD,EAAA,S,0EAKsBE,I,OAAAC,EAAeC,MAAAC,KAAAC,U,UAAfH,I,OAAAA,EAAfI,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,I,IAICC,EACAC,E,yEAJNC,EAAAC,QAAQC,MAAM,CACZC,SAAU,Y,SAEUjB,EAAAkB,QAAQC,e,OAAxBP,EAAOQ,EAAAC,KACPR,GAAS,EAAAS,EAAAC,cAAaX,GAC5BY,EAAAC,QAAKC,aAAaC,mBAAmB,YAAad,GAClDC,EAAAC,QAAQa,S,4CAP2BvB,MAAAC,KAAAC,U,CDDrC,SAASsB,EAAkBC,GACzB,IAAMC,EAAgBD,EAAME,OACxBD,IAAkBP,EAAAC,QAAKQ,iBACzBT,EAAAC,QAAKC,aAAaQ,UAAY,IAC9B,EAAAlC,EAAAmC,qBACKX,EAAAC,QAAKQ,gBAAgBG,UAAUC,SAAS,iBAC3Cb,EAAAC,QAAKQ,gBAAgBG,UAAUE,IAAI,eACnCd,EAAAC,QAAKc,cAAcH,UAAUR,OAAO,iBAE7BG,IAAkBP,EAAAC,QAAKc,gBAChCf,EAAAC,QAAKC,aAAaQ,UAAY,GAC9B/B,IACKqB,EAAAC,QAAKc,cAAcH,UAAUC,SAAS,iBACzCb,EAAAC,QAAKQ,gBAAgBG,UAAUR,OAAO,eACtCJ,EAAAC,QAAKc,cAAcH,UAAUE,IAAI,gB,gBAKvCb,QAAKQ,gBAAgBO,iBAAiB,QAASX,GAC/CL,EAAAC,QAAKc,cAAcC,iBAAiB,QAASX,GAC7CY,OAAOD,iBAAiB,OAAQxC,EAAAmC,mB,uDEzBhCjC,EAAAD,EAAA,S,aAAA,I,sDAKMyC,GAAO,EAAAC,EAAAC,SAAQC,EAAAC,aAEfC,G,EAAmBvC,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,I,mEACvB,EAAAgC,EAAAK,oBAAmBN,GAAM,SAAAO,GACnBA,GACFC,QAAQC,IAAIF,GACZC,QAAQC,IAAI,kBAEZC,EAAAC,KAAKC,oBAAoBlB,UAAUE,IAAI,WACvCc,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,oBAC/CH,EAAAC,KAAKC,oBAAoBlB,UAAUR,OAAO,YAE1CsB,QAAQC,IAAI,mBAEZC,EAAAC,KAAKC,oBAAoBlB,UAAUR,OAAO,WAC1CwB,EAAAC,KAAKC,oBAAoBC,aAAa,QAAS,mBAC/CH,EAAAC,KAAKC,oBAAoBlB,UAAUE,IAAI,U,2FAI7CS,IAEA,IAAMS,EAAM,W,MAAGhD,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,EAAM8C,G,qEACdA,EAAEzB,OAAOI,UAAUC,SAAS,WAAU,C,iEAGrC,EAAAM,EAAAe,SAAQhB,G,OACdiB,EAAAC,OAAOC,QAAQ,mCAEfC,YAAW,W,OAAMrB,OAAOsB,SAASC,QAAQ,e,GAAiB,K,2DAPvCP,G,gCAAT,GAUZL,EAAAC,KAAKC,oBAAoBd,iBAAiB,QAASgB,G","sources":["src/js/library_button.js","src/js/render-queue.js","src/js/firebase/firebase-auth-library.js"],"sourcesContent":["import { renderWatchedList } from './render-watched';\nimport { renderQueueList } from './render-queue';\nimport refs from './refs';\n\nfunction handleButtonClick(event) {\n  const clickedButton = event.target;\n  if (clickedButton === refs.buttonWatchedEl) {\n    refs.libGalleryEl.innerHTML = '';\n    renderWatchedList();\n    if (!refs.buttonWatchedEl.classList.contains('lib--active')) {\n      refs.buttonWatchedEl.classList.add('lib--active');\n      refs.buttonQueueEl.classList.remove('lib--active');\n    }\n  } else if (clickedButton === refs.buttonQueueEl) {\n    refs.libGalleryEl.innerHTML = '';\n    renderQueueList();\n    if (!refs.buttonQueueEl.classList.contains('lib--active')) {\n      refs.buttonWatchedEl.classList.remove('lib--active');\n      refs.buttonQueueEl.classList.add('lib--active');\n    }\n  }\n}\n\nrefs.buttonWatchedEl.addEventListener('click', handleButtonClick);\nrefs.buttonQueueEl.addEventListener('click', handleButtonClick);\nwindow.addEventListener('load', renderWatchedList);\n","import { renderMarkup } from './lib-card-markup';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport refs from './refs';\nimport { service } from './render-watched';\n\nexport async function renderQueueList() {\n  Loading.pulse({\n    svgColor: '#b92f2c',\n  });\n  const listArr = await service.getQueueList();\n  const markup = renderMarkup(listArr);\n  refs.libGalleryEl.insertAdjacentHTML('beforeend', markup);\n  Loading.remove();\n}\n","import { firebaseApp } from './firebase-init';\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { refs } from './auth-modal-refs';\nimport { Notify } from 'notiflix';\n\nconst auth = getAuth(firebaseApp);\n\nconst monitorAuthState = async () => {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      console.log(user);\n      console.log('user logged in');\n\n      refs.openModalLibraryBtn.classList.add('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log Out');\n      refs.openModalLibraryBtn.classList.remove('log-in');\n    } else {\n      console.log('user logged out');\n\n      refs.openModalLibraryBtn.classList.remove('log-out');\n      refs.openModalLibraryBtn.setAttribute('title', 'Click to Log In');\n      refs.openModalLibraryBtn.classList.add('log-in');\n    }\n  });\n};\nmonitorAuthState();\n\nconst logout = async e => {\n  if (!e.target.classList.contains('log-out')) {\n    return;\n  }\n  await signOut(auth);\n  Notify.success('You are loged out. See you soon');\n\n  setTimeout(() => window.location.replace('./index.html'), 2000);\n};\n\nrefs.openModalLibraryBtn.addEventListener('click', logout);\n"],"names":["$iAAxt","parcelRequire","$bpxeT","$f3e5ebb6bb433a3d$export$69bf332fc394edc5","$f3e5ebb6bb433a3d$var$_renderQueueList","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","listArr","markup","$7rQOT","Loading","pulse","svgColor","service","getQueueList","_ctx","sent","$7rTXH","renderMarkup","$4Nugj","default","libGalleryEl","insertAdjacentHTML","remove","$5f231e217f3687e3$var$handleButtonClick","event","clickedButton","target","buttonWatchedEl","innerHTML","renderWatchedList","classList","contains","add","buttonQueueEl","addEventListener","window","$53555ed19cee43ff$var$auth","$gQOBw","getAuth","$fGC9r","firebaseApp","$53555ed19cee43ff$var$monitorAuthState","onAuthStateChanged","user","console","log","$k4iT1","refs","openModalLibraryBtn","setAttribute","$53555ed19cee43ff$var$logout","e","signOut","$6JpON","Notify","success","setTimeout","location","replace"],"version":3,"file":"library.fa1e15e9.js.map"}